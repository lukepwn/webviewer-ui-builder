/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[11],{676:function(wa,ua,e){e.r(ua);var la=e(0),oa=e(1);e.n(oa);var na=e(2),ja=e(240);wa=e(49);var ia=e(144),ca=e(395),x=e(111),y=e(394);e=e(589);var n=window,h=function(){function b(a,w,aa){var z=-1===a.indexOf("?")?"?":"&";switch(w){case x.a.NEVER_CACHE:this.url="".concat(a+z,"_=").concat(Object(oa.uniqueId)());break;default:this.url=a}this.cg=aa;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}b.prototype.start=function(a,w){var aa=this,z=this,fa=this.request,ea;z.EH=0;a&&Object.keys(a).forEach(function(ha){aa.request.setRequestHeader(ha,a[ha])});w&&(this.request.withCredentials=w);this.WQ=setInterval(function(){var ha=0===window.document.URL.indexOf("file:///");ha=200===fa.status||
ha&&0===fa.status;if(fa.readyState!==y.b.DONE||ha){try{fa.responseText}catch(ba){return}z.EH<fa.responseText.length&&(ea=z.sUa())&&z.trigger(b.Events.DATA,[ea]);0===fa.readyState&&(clearInterval(z.WQ),z.trigger(b.Events.DONE))}else clearInterval(z.WQ),z.trigger(b.Events.DONE,["Error received return status ".concat(fa.status)])},1E3);this.request.send(null);this.status=y.a.STARTED};b.prototype.sUa=function(){var a=this.request,w=a.responseText;if(0!==w.length)if(this.EH===w.length)clearInterval(this.WQ),
this.trigger(b.Events.DONE);else return w=Math.min(this.EH+3E6,w.length),a=n.aea(a,this.EH,!0,w),this.EH=w,a};b.prototype.abort=function(){clearInterval(this.WQ);var a=this;this.request.onreadystatechange=function(){Object(na.j)("StreamingRequest aborted");a.status=y.a.ABORTED;return a.trigger(b.Events.ABORTED)};this.request.abort()};b.prototype.finish=function(){var a=this;this.request.onreadystatechange=function(){a.status=y.a.SUCCESS;return a.trigger(b.Events.DONE)};this.request.abort()};b.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return b}();Object(wa.b)(h);var f;(function(b){b[b.LOCAL_HEADER=0]="LOCAL_HEADER";b[b.FILE=1]="FILE";b[b.CENTRAL_DIR=2]="CENTRAL_DIR"})(f||(f={}));var r=function(b){function a(){var w=b.call(this)||this;w.buffer="";w.state=f.LOCAL_HEADER;w.l4=4;w.Gr=null;w.eC=ja.c;w.Wt={};return w}Object(la.d)(a,b);a.prototype.TTa=function(w){var aa;for(w=this.buffer+w;w.length>=this.eC;)switch(this.state){case f.LOCAL_HEADER:this.Gr=aa=this.xUa(w.slice(0,this.eC));if(aa.WC!==
ja.g)throw Error("Wrong signature in local header: ".concat(aa.WC));w=w.slice(this.eC);this.state=f.FILE;this.eC=aa.RV+aa.Sx+aa.WF+this.l4;this.trigger(a.Events.HEADER,[aa]);break;case f.FILE:this.Gr.name=w.slice(0,this.Gr.Sx);this.Wt[this.Gr.name]=this.Gr;aa=this.eC-this.l4;var z=w.slice(this.Gr.Sx+this.Gr.WF,aa);this.trigger(a.Events.FILE,[this.Gr.name,z,this.Gr.uW]);w=w.slice(aa);if(w.slice(0,this.l4)===ja.h)this.state=f.LOCAL_HEADER,this.eC=ja.c;else return this.state=f.CENTRAL_DIR,!0}this.buffer=
w;return!1};a.Events={HEADER:"header",FILE:"file"};return a}(ca.a);Object(wa.b)(r);wa=function(b){function a(w,aa,z,fa,ea){z=b.call(this,w,z,fa)||this;z.url=w;z.stream=new h(w,aa);z.jf=new r;z.Xia=window.createPromiseCapability();z.Pja={};z.cg=ea;return z}Object(la.d)(a,b);a.prototype.QI=function(w){var aa=this;this.request([this.Xn,this.aq,this.Wn]);this.stream.addEventListener(h.Events.DATA,function(z){try{if(aa.jf.TTa(z))return aa.stream.finish()}catch(fa){throw aa.stream.abort(),aa.Rw(fa),w(fa),
fa;}});this.stream.addEventListener(h.Events.DONE,function(z){aa.jTa=!0;aa.Xia.resolve();z&&(aa.Rw(z),w(z))});this.jf.addEventListener(r.Events.HEADER,Object(oa.bind)(this.Oja,this));this.jf.addEventListener(r.Events.FILE,Object(oa.bind)(this.PUa,this));return this.stream.start(this.cg,this.withCredentials)};a.prototype.Vda=function(w){var aa=this;this.Xia.promise.then(function(){w(Object.keys(aa.jf.Wt))})};a.prototype.Vu=function(){return!0};a.prototype.request=function(w){var aa=this;this.jTa&&
w.forEach(function(z){aa.Pja[z]||aa.V1a(z)})};a.prototype.Oja=function(){};a.prototype.abort=function(){this.stream&&this.stream.abort()};a.prototype.V1a=function(w){this.trigger(ia.a.Events.PART_READY,[{Ub:w,error:"Requested part not found",Hm:!1,Xi:!1}])};a.prototype.PUa=function(w,aa,z){this.Pja[w]=!0;this.trigger(ia.a.Events.PART_READY,[{Ub:w,data:aa,Hm:!1,Xi:!1,error:null,Re:z}])};return a}(ia.a);Object(e.a)(wa);Object(e.b)(wa);ua["default"]=wa}}]);}).call(this || window)
